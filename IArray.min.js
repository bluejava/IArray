!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof eki&&eki.def?eki.def("IArray",e):"object"==typeof exports?module.exports=e():t.IArray=e()}(this,function(){"use strict";function t(){for(var t=this.toArray(),e=0;e<arguments.length;e++){var r=arguments[e];t=t.concat(r&&r.isIArray?r.toArray():r)}return o(t)}function e(t,e){var o=n(this);return o[t]=e,r(o)}function r(t){return("SHALLOW"===o.freeze||"DEEP"===o.freeze)&&(Object.freeze(t),"DEEP"===o.freeze&&Object.getOwnPropertyNames(t).forEach(function(e){"object"!=typeof t[e]&&"function"!=typeof t[e]||Object.isFrozen(t[e])||r(t[e])})),t}function n(t){return Object.assign(Object.create(u),t,t?{length:t.length}:null)}function o(t){return r(n(t))}var i=["filter","map","slice"].reduce(function(t,e){return t[e]=function(){return o(Array.prototype[e].apply(this,arguments))},t},{}),c=["copyWithin","fill","push","pop","reverse","shift","unshift","sort","splice"].reduce(function(t,e){return t[e]=function(){var t=n(this),i=Array.prototype[e].apply(t,arguments);return Array.isArray(i)&&(i=o(i)),t.ret=i,r(t)},t},{}),u=Object.assign(Object.create(Array.prototype),i,c,{concat:t,isIArray:!0,set:e,toJSON:function(){return this.toArray()},toArray:function(){return Array.prototype.slice.call(this)}});return o});