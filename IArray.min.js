!function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof eki&&eki.def?eki.def("IArray",r):"object"==typeof exports?module.exports=r():e.IArray=r()}(this,function(){"use strict";function e(){for(var e=this.toArray(),r=0;r<arguments.length;r++){var t=arguments[r];e=e.concat(t&&t.isIArray?t.toArray():t)}return o(e)}function r(e,r){var o=n(this);return o[e]=r,t(o)}function t(e){return("SHALLOW"===o.freeze||"DEEP"===o.freeze)&&(Object.freeze(e),"DEEP"===o.freeze&&Object.getOwnPropertyNames(e).forEach(function(r){"object"!=typeof e[r]&&"function"!=typeof e[r]||Object.isFrozen(e[r])||t(e[r])})),e}function n(e){return Object.assign(Object.create(u),e,e?{length:e.length}:null)}function o(e){return t(n(e))}var i=["filter","map","slice"].reduce(function(e,r){return e[r]=function(){return o(Array.prototype[r].apply(this,arguments))},e},{}),c=["copyWithin","fill","push","pop","reverse","shift","unshift","sort","splice"].reduce(function(e,r){return e[r]=function(){var e=n(this),i=Array.prototype[r].apply(e,arguments);return Array.isArray(i)&&(i=o(i)),e.ret=i,t(e)},e},{}),u=Object.assign(Object.create(Array.prototype),i,c,{concat:e,isIArray:!0,set:r,toArray:function(){return Array.prototype.slice.call(this)}});return o});